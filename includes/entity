<h1 id="entity">Entity</h1>

<h2 id="get-table-constructor">Get table constructor</h2>
<pre class="highlight shell tab-shell"><code>
 curl <span class="se">\</span>
   -X GET <span class="se">\</span>
   https://compliance-guard.lan/api/v1/entities/table-description/&lt;NAME&gt;

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0dc26cc0-335c-40a7-ba5b-7f754693736a"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8b52b173e82b57487c16c701bea5f4fb18088f11de10345e300baa7d55659865"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;name&gt;</span><span class="p">,</span><span class="w">
        </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"archived"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mixins"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="s2">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"incident"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explanation"</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>
<p>This endpoint returns an Entity with the entire set of Fields, that are needed to show to Users.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v1/entities/table-description/&lt;name&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NAME</td>
<td>Name of the entity</td>
</tr>
</tbody></table>

<h2 id="add-entity">Add Entity</h2>
<pre class="highlight shell tab-shell"><code>
 curl <span class="se">\</span>
   -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s1">'{"name": "logbook", "mixins": [], "fields": [{"name": "incident", "type": "text"}]}'</span> <span class="se">\</span>
   https://compliance-guard.lan/api/v1/entities

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a2017db-6f7c-45e8-ab28-ebe9e589b4b3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x75d1ca7acd7ef942e062022c944ef99b34ead44fb7e134970b9c292cfc432891"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"logbook"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"archived"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mixins"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"incident"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explanation"</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>
<p>This endpoint adds an Entity.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/v1/entities</code></p>

<h3 id="payload-attributes">Payload Attributes</h3>

<p>| Parameter | Type   | Description |
|&mdash;&mdash;&mdash;-|&mdash;&mdash;&mdash;&ndash;|
| NAME    | Name of the entity      |
| MIXINS     | String[] | Array of used mixins      |
| FIELDS     | String[] | Array of fields, which entries of this type will have      |</p>

<h2 id="link-entities-to-each-other">Link Entities to each other</h2>
<pre class="highlight shell tab-shell"><code>
 curl <span class="se">\</span>
   -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s1">'{"local": "3feb4353-393c-4021-afdb-2e1f8ef1aa6b", "localField": "target", "target": "9c8e2eea-4003-4e8e-b47b-7fcfbc1e9fd8", "targetField": "id"}'</span>
   https://compliance-guard.lan/api/v1/entities/links

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a2017db-6f7c-45e8-ab28-ebe9e589b4b3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x75d1ca7acd7ef942e062022c944ef99b34ead44fb7e134970b9c292cfc432891"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"local"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"3feb4353-393c-4021-afdb-2e1f8ef1aa6b"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localField"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"target"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"target"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"9c8e2eea-4003-4e8e-b47b-7fcfbc1e9fd8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"targetField"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>
<p>This endpoint links two Entities between to each other.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/v1/entities/links</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<p>| Parameter | Type   | Description |
|&mdash;&mdash;&mdash;-|&mdash;&mdash;&mdash;&ndash;|
| local    | Id of an entity, which must be linked      |
| localField    | Name of field, which will be contain foreign key value      |
| target    | Id of an entity, to which &lsquo;local&rsquo; entity is linked      |
| targetField    | Name of field, which one will be foreign key field      |</p>

<h2 id="get-entity-by-id">Get Entity by ID</h2>
<pre class="highlight shell tab-shell"><code>
 curl <span class="se">\</span>
   -X GET <span class="se">\</span>
   https://compliance-guard.lan/api/v1/entities/6a2017db-6f7c-45e8-ab28-ebe9e589b4b3

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a2017db-6f7c-45e8-ab28-ebe9e589b4b3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x75d1ca7acd7ef942e062022c944ef99b34ead44fb7e134970b9c292cfc432891"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"logbook"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"archived"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mixins"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"incident"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>
<p>This endpoint returns an Entity when its ID is provided.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v1/entities/&lt;id&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<p>| Parameter | Type   | Description |
|&mdash;&mdash;&mdash;-|&mdash;&mdash;&mdash;&ndash;|
| id    | Id of the desired entity      |</p>

<h2 id="get-entity-by-name">Get Entity by Name</h2>
<pre class="highlight shell tab-shell"><code>
 curl <span class="se">\</span>
   -X GET <span class="se">\</span>
   https://compliance-guard.lan/api/v1/entities/logbook

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a2017db-6f7c-45e8-ab28-ebe9e589b4b3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x75d1ca7acd7ef942e062022c944ef99b34ead44fb7e134970b9c292cfc432891"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"logbook"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"archived"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mixins"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"incident"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>
<p>This endpoint returns an Entity when its given Name is provided.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v1/entities/&lt;name&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<p>| Parameter | Type   | Description |
|&mdash;&mdash;&mdash;-|&mdash;&mdash;&mdash;&ndash;|
| NAME    | Name of the desired entity      |</p>

<h2 id="get-list-of-entities">Get list of Entities</h2>
<pre class="highlight shell tab-shell"><code>
 curl <span class="se">\</span>
   -X GET <span class="se">\</span>
   https://compliance-guard.lan/api/v1/entities?name<span class="o">=</span>logbook&amp;limit<span class="o">=</span>5

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"entities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a2017db-6f7c-45e8-ab28-ebe9e589b4b3"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x75d1ca7acd7ef942e062022c944ef99b34ead44fb7e134970b9c292cfc432891"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"logbook"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"archived"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="s2">"mixins"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="s2">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"incident"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>
<p>This endpoint returns an array of Entities.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v1/entities</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NAME</td>
<td>[Optional] Name of the desired entity</td>
</tr>
<tr>
<td>LIMIT</td>
<td>[Optional] Limit of number of fetched entities. Default value: 0</td>
</tr>
<tr>
<td>OFFSET</td>
<td>[Optional] Number of entities to skip. Default value: 5</td>
</tr>
</tbody></table>

<h2 id="send-entity-to-archive">Send Entity to archive</h2>
<pre class="highlight shell tab-shell"><code>
 curl <span class="se">\</span>
   -X DELETE <span class="se">\</span>
   https://compliance-guard.lan/api/v1/entities/logbook

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Use this method to archive an Entity.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /api/v1/entities/&lt;name&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<p>| Parameter | Type   | Description |
|&mdash;&mdash;&mdash;-|&mdash;&mdash;&mdash;&ndash;|
| NAME    | Name of the desired entity      |</p>
