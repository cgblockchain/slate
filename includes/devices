<h1 id="devices">Devices</h1>

<h2 id="add-new-device">Add New Device</h2>

<blockquote>
<p>To create new Order, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code> <span class="c"># With curl, you can just pass the correct header with each request</span>
 curl <span class="se">\</span>
   -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s1">'{"name": "cgbox1", "hash": "0x0004a1af9de734f8ddab0d47c803cf301038d874"}'</span> <span class="se">\</span>
   https://compliance-guard.lan/api/v1/system/device

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"device"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"d0691c48-ad21-45db-bbd6-f32aa264d1ad"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cgbox1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="s2">"0x0004a1af9de734f8ddab0d47c803cf301038d874"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>
<p>This can be used to establish a new ComplianceGuard hardware unit. This endpoint stores the new Device’s info to the ComplianceGuard database for authorization. Usually the Integrator who connects the EMS or OMS to ComplianceGuard is resposible for this.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /api/v1/system/devices</code></p>

<h3 id="payload-attributes">Payload Attributes</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NAME</td>
<td>Human-readable name of device</td>
</tr>
<tr>
<td>HASH</td>
<td>Blockchain hash of an account, associated with this device</td>
</tr>
</tbody></table>

<h2 id="get-device">Get Device</h2>
<pre class="highlight shell tab-shell"><code>
 curl <span class="se">\</span>
   -X GET <span class="se">\</span>
   https://compliance-guard.lan/api/v1/system/devices/d0691c48-ad21-45db-bbd6-f32aa264d1ad

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"device"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"d0691c48-ad21-45db-bbd6-f32aa264d1ad"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cgbox1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="s2">"0x0004a1af9de734f8ddab0d47c803cf301038d874"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>
<p>This endpoint will return the basic information about the Device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v1/system/devices/&lt;id&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>Id of the desired device</td>
</tr>
</tbody></table>

<h2 id="get-list-of-devices">Get list of Devices</h2>
<pre class="highlight shell tab-shell"><code>
 curl <span class="se">\</span>
   -X GET <span class="se">\</span>
   https://compliance-guard.lan/api/v1/system/devices?name<span class="o">=</span>cgbox1&amp;limit<span class="o">=</span>5

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"devices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"d0691c48-ad21-45db-bbd6-f32aa264d1ad"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cgbox1"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"hash"</span><span class="p">:</span><span class="s2">"0x0004a1af9de734f8ddab0d47c803cf301038d874"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>
<p>This endpoint returns an array of all the Devices defined in one Client’s system.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /api/v1/system/devices</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NAME</td>
<td>[Optional] Human-readable name of device</td>
</tr>
<tr>
<td>HASH</td>
<td>[Optional] Blockchain hash of an account, associated with this device</td>
</tr>
<tr>
<td>LIMIT</td>
<td>[Optional] Limit of number of fetched devices. Default value: 0</td>
</tr>
<tr>
<td>OFFSET</td>
<td>[Optional] Number of devices to skip. Default value: 5</td>
</tr>
</tbody></table>

<h2 id="update-device">Update Device</h2>
<pre class="highlight shell tab-shell"><code>
 curl <span class="se">\</span>
   -X PUT <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s1">'{"name": "cgbox2"}'</span> <span class="se">\</span>
   https://compliance-guard.lan/api/v1/system/devices/d0691c48-ad21-45db-bbd6-f32aa264d1ad

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"device"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"d0691c48-ad21-45db-bbd6-f32aa264d1ad"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cgbox2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="s2">"0x0004a1af9de734f8ddab0d47c803cf301038d874"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Use this method to updates the information about a specific Device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /api/v1/system/devices/&lt;id&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<p>| Parameter | Type   | Description |
|&mdash;&mdash;&mdash;|&mdash;&mdash;&mdash;&ndash;|
| ID     | of the desired device      |</p>

<h2 id="delete-device">Delete Device</h2>
<pre class="highlight shell tab-shell"><code>
 curl <span class="se">\</span>
   -X DELETE <span class="se">\</span>
   https://compliance-guard.lan/api/v1/system/devices/d0691c48-ad21-45db-bbd6-f32aa264d1ad

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Use this method to delete the information about a specific Device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /api/v1/system/devices/&lt;id&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<p>| Parameter | Type   | Description |
|&mdash;&mdash;&mdash;|&mdash;&mdash;&mdash;&mdash;-|
| ID     | of the desired device      |</p>
